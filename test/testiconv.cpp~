#include <iconv.h>
#include <string.h>
#include <stdio.h>

int main()
{
    unsigned char str[] = {0x1f,0x75,0xee,0x58,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x31,0x0,0x30,0x0,0x31,0x0,0x31,0x0,0x39,0x0,0x39,0x0,0x30,0x0,0x31,0x0,0x32,0x0,0x32,0x0,0x32,0x0,0x71,0x5c,0x1c,0x4e,0x1,0x77,0x92,0x83,0xbf,0x53,0x89,0x5b,0x84,0x5e,0x47,0x95,0x1f,0x75,0xb6,0x5b,0x57,0x53,0x56,0x6e,0x51,0x67,0x31,0x0,0x39,0x0,0x31,0x0,0xf7,0x53,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x33,0x0,0x37,0x0,0x31,0x0,0x31,0x0,0x32,0x0,0x32,0x0,0x31,0x0,0x39,0x0,0x39,0x0,0x30,0x0,0x31,0x0,0x32,0x0,0x32,0x0,0x32,0x0,0x37,0x0,0x32,0x0,0x33,0x0,0x37,0x0,0x92,0x83,0xbf,0x53,0x6c,0x51,0x89,0x5b,0x40,0x5c,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x32,0x0,0x30,0x0,0x31,0x0,0x36,0x0,0x30,0x0,0x32,0x0,0x30,0x0,0x35,0x0,0x32,0x0,0x30,0x0,0x32,0x0,0x36,0x0,0x30,0x0,0x32,0x0,0x30,0x0,0x35,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0,0x20,0x0};
    char strdest[256]={0};
    iconv_t cd;
#if CARD_INFO_PRINT
    DPRINTF("iconv_open----------------\n");
#endif
	cd = iconv_open("UCS-2","utf-8");
	if (cd == 0)
    {
        return -1;
    }
    size_t s_inlen = 256;
    size_t s_outlen = 256;
#if CARD_INFO_PRINT
    DPRINTF("begin iconv-------------\n");
#endif 
    char* src = (char*)str;
    char* dest = strdest;
	if (iconv(cd,&src,&s_inlen,&dest,&s_outlen) == -1)
    {
        printf("iconv failed\n");
        iconv_close(cd);
        return -1;
    }
	iconv_close(cd);

    return 0;
}
